<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Booking Details</title>
  <link rel="stylesheet" href="../assets/css/global.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css" />
  <link rel="manifest" href="/manifest.json" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f0f0;
    }
    .container {
      padding: 20px;
    }
    .form-container {
      background-color: #fff;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 5px 10px lightblue;
    }
    .form-container h5 {
      color: blue;
    }
    .form-field {
      margin-bottom: 20px;
    }
    .form-field input,
    .form-field textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .form-field button {
      background-color: blue;
      color: white;
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
    }
    .form-field button:hover {
      background-color: #434190;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-container">
      <h5 id="nannyNameTitle">Booking Details</h5>
      <div class="form-field">
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required />
      </div>
      <div class="form-field">
        <label for="startTime">Start Time:</label>
        <input type="time" id="startTime" name="startTime" required />
      </div>
      <div class="form-field">
        <label for="endTime">End Time:</label>
        <input type="time" id="endTime" name="endTime" required />
      </div>
      <div class="form-field">
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" placeholder="Enter location" required />
      </div>
      <div class="form-field">
        <button onclick="submitBooking()">Submit Booking</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      const nannyName = urlParams.get('nannyName');
      if (nannyName) {
        document.getElementById('nannyNameTitle').textContent = `Booking Details for ${nannyName}`;
      }
    });

    function submitBooking() {
      const urlParams = new URLSearchParams(window.location.search);
      const nannyName = urlParams.get('nannyName');
      const date = document.getElementById('date').value;
      const startTime = document.getElementById('startTime').value;
      const endTime = document.getElementById('endTime').value;
      const location = document.getElementById('location').value;

      if (date && startTime && endTime && location) {
        const booking = { nannyName, date, startTime, endTime, location };
        let bookings = JSON.parse(localStorage.getItem('bookings')) || [];
        bookings.push(booking);
        localStorage.setItem('bookings', JSON.stringify(bookings));
        alert("Booking submitted successfully!");
        window.location.href = 'allbookings.html';
      } else {
        alert('Please fill out all fields.');
      }
    }
  </script>
</body>
</html>
